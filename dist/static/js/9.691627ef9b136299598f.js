webpackJsonp([9],{RKbS:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(s){t.isLoading=s}}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 col-sm-12 mt-5"},[a("div",{staticClass:"card border-1"},[t._m(1),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",t._l(t.order.products,function(s){return a("tr",{key:s.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),t._v(" "),a("td",{staticClass:"align-middle",staticStyle:{"padding-left":"20px"}},[t._v("\n                  "+t._s(s.qty)+"\n                ")]),t._v(" "),a("td",{staticClass:"align-middle text-right"},[t._v("\n                  "+t._s(t._f("currency")(Math.floor(s.final_total/s.qty)))+"\n                ")])])}),0),t._v(" "),a("tfoot",[a("tr",{staticStyle:{"font-weight":"bold"}},[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])])])])])]),t._v(" "),a("div",{staticClass:"col-lg-5 col-sm-12 mt-5"},[a("h4",{staticClass:"card"},[t._m(3),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",[t._v("姓名")]),t._v(" "),a("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),a("tr",[a("th",[t._v("電話")]),t._v(" "),a("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),t._v(" "),a("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),a("tr",[a("th",[t._v("地址")]),t._v(" "),a("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),a("tr",[a("th",[t._v("付款狀態")]),t._v(" "),a("td",[t.order.is_paid?a("h6",[a("span",{staticClass:"badge badge-success"},[t._v("付款完成")])]):a("h6",[a("span",{staticClass:"badge badge-danger"},[t._v("尚未付款")])])])])])]),t._v(" "),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-dark",on:{click:t.payOrder}},[t._v("確認付款")])]):t._e()])]),t._v(" "),!0===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-warning",staticStyle:{"font-weight":"bold"},on:{click:function(s){return t.$router.push("/")}}},[t._v("回去逛逛")])]):t._e()])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row mt-4",staticStyle:{"font-size":"16px"}},[s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[this._v("\n        1. 糧食明細\n      ")])]),this._v(" "),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[this._v("\n        2. 填寫資料\n      ")])]),this._v(" "),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-success",staticStyle:{"font-weight":"bold"},attrs:{role:"alert"}},[this._v("\n        3. 完成捐糧\n      ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header bg-dark"},[s("h5",{staticStyle:{color:"#ffffff"}},[this._v("糧食明細")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("th",{attrs:{width:"30%"}},[this._v("品名")]),this._v(" "),s("th",{attrs:{width:"35%"}},[this._v("數量")]),this._v(" "),s("th",{attrs:{width:"20%"}},[this._v("單價")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header bg-dark"},[s("h5",{staticStyle:{color:"#ffffff"}},[this._v("捐助人資訊")])])}]},i=a("VU/8")({data:function(){return{isLoading:!1,orderId:"",order:{user:{}}}},methods:{getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/jasmjazz/order/"+t.orderId;t.isLoading=!0,t.$http.get(s).then(function(s){s.data.success&&(t.isLoading=!1,t.order=s.data.order)})},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/jasmjazz/pay/"+t.orderId;t.isLoading=!0,t.$http.post(s).then(function(s){s.data.success&&(t.isLoading=!1,t.$bus.$emit("message: push","捐糧成功"),t.getOrder())})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},e,!1,null,null,null);s.default=i.exports}});
//# sourceMappingURL=9.691627ef9b136299598f.js.map