{"version":3,"sources":["webpack:///src/views/user/OrderCheck.vue","webpack:///./src/views/user/OrderCheck.vue?52aa","webpack:///./src/views/user/OrderCheck.vue"],"names":["user_OrderCheck","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","active","isLoading","loader","on","update:active","$event","_v","_m","_l","order","item","key","id","_s","product","title","staticStyle","padding-left","qty","_f","Math","floor","final_total","font-weight","colspan","total","user","name","tel","width","email","address","is_paid","click","payOrder","_e","$router","push","staticRenderFns","font-size","role","color","Component","__webpack_require__","normalizeComponent","data","orderId","methods","getOrder","vm","api","$http","get","then","response","success","post","$bus","$emit","created","$route","params","__webpack_exports__"],"mappings":"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","file":"static/js/8.a10c31a60a916bfa0438.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <loading :active.sync=\"isLoading\" loader=\"dots\"></loading>\r\n    <div class=\"row mt-4\" style=\"font-size: 16px\">\r\n      <div class=\"col-4 col-sm\">\r\n        <div class=\"alert alert-dark\" role=\"alert\">\r\n          1. 糧食明細\r\n        </div>\r\n      </div>\r\n      <div class=\"col-4 col-sm\">\r\n        <div class=\"alert alert-dark\" role=\"alert\">\r\n          2. 填寫資料\r\n        </div>\r\n      </div>\r\n      <div class=\"col-4 col-sm\">\r\n        <div class=\"alert alert-success\" style=\"font-weight: bold\" role=\"alert\">\r\n          3. 完成捐糧\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--Data-->\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-7 col-sm-12 mt-5\">\r\n        <div class=\"card border-1\">\r\n          <div class=\"card-header bg-dark\">\r\n            <h5 style=\"color: #ffffff\">糧食明細</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <th width=\"30%\">品名</th>\r\n                <th width=\"35%\">數量</th>\r\n                <th width=\"20%\">單價</th>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n                  <td class=\"align-middle\">{{ item.product.title }}</td>\r\n                  <td class=\"align-middle\" style=\"padding-left: 20px\">\r\n                    {{ item.qty }}\r\n                  </td>\r\n                  <td class=\"align-middle text-right\">\r\n                    {{ Math.floor(item.final_total / item.qty)  | currency }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr style=\"font-weight: bold\">\r\n                  <td colspan=\"2\" class=\"text-right\">總計</td>\r\n                  <td class=\"text-right\">{{ order.total | currency }}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-5 col-sm-12 mt-5\">\r\n        <h4 class=\"card\">\r\n          <div class=\"card-header bg-dark\">\r\n            <h5 style=\"color: #ffffff\">捐助人資訊</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <table class=\"table\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <td>{{ order.user.name }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>電話</th>\r\n                  <td>{{ order.user.tel }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th width=\"100\">Email</th>\r\n                  <td>{{ order.user.email }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>地址</th>\r\n                  <td>{{ order.user.address }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>付款狀態</th>\r\n                  <td>\r\n                    <h6 v-if=\"!order.is_paid\">\r\n                      <span class=\"badge badge-danger\">尚未付款</span>\r\n                    </h6>\r\n                    <h6 v-else>\r\n                      <span class=\"badge badge-success\">付款完成</span>\r\n                    </h6>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"text-right\" v-if=\"order.is_paid === false\">\r\n              <button class=\"btn btn-dark\" @click=\"payOrder\">確認付款</button>\r\n            </div>\r\n          </div>\r\n        </h4>\r\n        <div class=\"text-right\"  v-if=\"order.is_paid === true\">\r\n          <button class=\"btn btn-warning\" style=\"font-weight: bold\"\r\n            @click=\"$router.push('/')\">回去逛逛</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      orderId: '',\r\n      order: {\r\n        user: {},\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getOrder() {\r\n      const vm = this;\r\n      const api = `${process.env.API_PATH}/api/${process.env.CUSTOM_PATH}/order/${vm.orderId}`;\r\n      vm.isLoading = true;\r\n      vm.$http.get(api).then((response) => {\r\n        if (response.data.success) {\r\n          vm.isLoading = false;\r\n          vm.order = response.data.order;\r\n        }\r\n      });\r\n    },\r\n    payOrder() {\r\n      const vm = this;\r\n      const api = `${process.env.API_PATH}/api/${process.env.CUSTOM_PATH}/pay/${vm.orderId}`;\r\n      vm.isLoading = true;\r\n      vm.$http.post(api).then((response) => {\r\n        if (response.data.success) {\r\n          vm.isLoading = false;\r\n          vm.$bus.$emit('message: push', '捐糧成功');\r\n          vm.getOrder();\r\n        }\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.orderId = this.$route.params.orderId;\r\n    this.getOrder();\r\n  },\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/OrderCheck.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"loader\":\"dots\"},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7 col-sm-12 mt-5\"},[_c('div',{staticClass:\"card border-1\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\"},[_vm._m(2),_vm._v(\" \"),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\",staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\"\\n                  \"+_vm._s(item.qty)+\"\\n                \")]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"currency\")(Math.floor(item.final_total / item.qty)))+\"\\n                \")])])}),0),_vm._v(\" \"),_c('tfoot',[_c('tr',{staticStyle:{\"font-weight\":\"bold\"}},[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_vm._v(\" \"),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-5 col-sm-12 mt-5\"},[_c('h4',{staticClass:\"card\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"姓名\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"電話\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_vm._v(\" \"),_c('tr',[_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"Email\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"地址\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_vm._v(\" \"),_c('td',[(!_vm.order.is_paid)?_c('h6',[_c('span',{staticClass:\"badge badge-danger\"},[_vm._v(\"尚未付款\")])]):_c('h6',[_c('span',{staticClass:\"badge badge-success\"},[_vm._v(\"付款完成\")])])])])])]),_vm._v(\" \"),(_vm.order.is_paid === false)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.payOrder}},[_vm._v(\"確認付款\")])]):_vm._e()])]),_vm._v(\" \"),(_vm.order.is_paid === true)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-warning\",staticStyle:{\"font-weight\":\"bold\"},on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"回去逛逛\")])]):_vm._e()])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row mt-4\",staticStyle:{\"font-size\":\"16px\"}},[_c('div',{staticClass:\"col-4 col-sm\"},[_c('div',{staticClass:\"alert alert-dark\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        1. 糧食明細\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-4 col-sm\"},[_c('div',{staticClass:\"alert alert-dark\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        2. 填寫資料\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-4 col-sm\"},[_c('div',{staticClass:\"alert alert-success\",staticStyle:{\"font-weight\":\"bold\"},attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        3. 完成捐糧\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-dark\"},[_c('h5',{staticStyle:{\"color\":\"#ffffff\"}},[_vm._v(\"糧食明細\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"width\":\"30%\"}},[_vm._v(\"品名\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"35%\"}},[_vm._v(\"數量\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"單價\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-dark\"},[_c('h5',{staticStyle:{\"color\":\"#ffffff\"}},[_vm._v(\"捐助人資訊\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-436c93b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/OrderCheck.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderCheck.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderCheck.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-436c93b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderCheck.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/OrderCheck.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}