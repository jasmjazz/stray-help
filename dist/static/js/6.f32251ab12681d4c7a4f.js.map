{"version":3,"sources":["webpack:///src/views/user/Category.vue","webpack:///./src/views/user/Category.vue?2567","webpack:///./src/views/user/Category.vue"],"names":["Category","name","data","isLoading","allProducts","countProduct","currentPage","category","products","cart","singleProduct","num","components","Alert","AlertMessage","Cart","methods","getAllProducts","api","arguments","length","undefined","vm","this","$http","get","then","response","console","log","filter","item","is_enabled","getProduct","id","product","$","modal","getCategory","getCart","JSON","parse","localStorage","getItem","addCart","qty","cartIndex","forEach","index","total","parseInt","price","$set","push","$bus","$emit","tempProduct","extends_default","splice","setItem","stringify_default","setPage","page","totalPage","computed","firstProduct","Math","ceil","created","user_Category","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","active","loader","on","update:active","$event","_v","staticStyle","font-size","to","_m","class","click","_l","slice","key","height","background-size","style","backgroundImage","_s","title","description","background-color","color","letter-spacing","padding-top","_f","type","tabindex","role","aria-labelledby","aria-hidden","background-position","font-weight","content","directives","rawName","value","expression","change","$$selectedVal","Array","prototype","call","target","options","o","selected","map","_value","multiple","domProps","data-dismiss","aria-label","preventDefault","href","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.f32251ab12681d4c7a4f.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <loading :active.sync=\"isLoading\" loader=\"dots\"></loading>\r\n    <Alert></Alert>\r\n    <Cart></Cart>\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-sm-4 col-sm-12 col-md-12 col-lg-4\">\r\n        <ul class=\"nav\" style=\"font-size: 18px\">\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/\"><span class=\"choose\">首頁</span></router-link>\r\n          </li>\r\n          <li class=\"nav-item\" style=\"font-weight: bolder\">\r\n            <span class=\"nav-link active\" style=\"color: #f57f17\">種類</span>\r\n          </li>\r\n        </ul>\r\n        <ul class=\"list-group mt-2\">\r\n          <li class=\"list-group-item\" @click=\"getCategory(3)\"\r\n            :class=\"{ active: category === 3 }\">全部</li>\r\n          <li class=\"list-group-item\" @click=\"getCategory(0)\"\r\n            :class=\"{ active: category === 0 }\">主食</li>\r\n          <li class=\"list-group-item\" @click=\"getCategory(1)\"\r\n            :class=\"{ active: category === 1 }\">副食</li>\r\n          <li class=\"list-group-item\" @click=\"getCategory(2)\"\r\n            :class=\"{ active: category === 2 }\">零食</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"col-sm-8 mt-5 col-sm-12 col-md-12 col-lg-8\">\r\n        <div class=\"row\">\r\n          <div class=\"card-group col-md-6 mb-4\"\r\n            v-for=\"item in products.slice(firstProduct, firstProduct + countProduct)\"\r\n            :key=\"item.id\">\r\n            <div class=\"card border-0 product-card\">\r\n              <div style=\"height: 250px; background-size: cover;\"\r\n                :style=\"{backgroundImage: `url(${item.imageUrl})`}\">\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <h4 v-if=\"item.category === 0\">\r\n                  <span class=\"badge badge-dark float-right ml-2\">主食</span>\r\n                </h4>\r\n                <h4 v-else-if=\"item.category === 1\">\r\n                  <span class=\"badge badge-warning float-right ml-2\">副食</span>\r\n                </h4>\r\n                <h4 v-else>\r\n                  <span class=\"badge badge-info float-right ml-2\">零食</span>\r\n                </h4>\r\n                <h4 class=\"card-title\">\r\n                  <a class=\"text-dark\">{{ item.title }}</a>\r\n                </h4>\r\n                <p class=\"card-text\" style=\"font-size: 16px\">{{item.description}}</p>\r\n              </div>\r\n              <div class=\"card-footer d-flex\" style=\"background-color: #494949\">\r\n                <h5 style=\"color: #ffffff; letter-spacing: 1px; padding-top: 4px\">\r\n                  NT {{ item.price | currency }}\r\n                </h5>\r\n                <button type=\"button\" class=\"btn btn-outline-light ml-auto\"\r\n                  style=\"letter-spacing: 2px\" @click=\"getProduct(item.id)\">\r\n                  捐助糧食\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      <!--Modal-->\r\n      <div class=\"modal fade\" id=\"detailModal\" tabindex=\"-1\" role=\"dialog\"\r\n        aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-body\">\r\n              <div class=\"card border-0\">\r\n                <div class=\"image mt-2\"\r\n                  style=\"height: 300px; background-size: cover; background-position: center\"\r\n                  :style=\"{backgroundImage: `url(${singleProduct.imageUrl})`}\">\r\n                </div>\r\n                <div class=\"card-body\">\r\n                <h5>\r\n                  <span v-if=\"singleProduct.category === 0\"\r\n                    class=\"badge badge-dark\">主食</span>\r\n                  <span v-else-if=\"singleProduct.category === 1\"\r\n                    class=\"badge badge-warning\">副食</span>\r\n                  <span v-else class=\"badge badge-info\">零食</span>\r\n                </h5>\r\n                <h4 class=\"mt-3\" style=\"font-weight: bold\">{{singleProduct.title }}</h4>\r\n                <h5 class=\"mt-2\" style=\"padding-top: 12px\">\r\n                  {{ singleProduct.description }}</h5>\r\n                <h6>\r\n                  成分｜ {{ singleProduct.content }}</h6>\r\n                <h5 class=\"card-title mt-4\" style=\"color: #616161\">\r\n                  NT {{ singleProduct.price | currency }}\r\n                </h5>\r\n                <select class=\"form-control mt-3\" v-model=\"num\">\r\n                  <option :value=\"num\" v-for=\"num in 10\" :key=\"num\">\r\n                    {{ num }}\r\n                  </option>\r\n                </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-warning\" data-dismiss=\"modal\">再逛逛</button>\r\n              <button type=\"button\" class=\"btn btn-dark\" style=\"letter-spacing: 1px\"\r\n              @click=\"addCart(singleProduct, num)\">捐助</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!--pagination-->\r\n        <nav aria-label=\"Page navigation example\">\r\n          <ul class=\"pagination justify-content-center\">\r\n            <li class=\"page-item\"\r\n              v-for=\"page in totalPage\" :key=\"page\"\r\n              :class=\"{'active': currentPage === page}\"\r\n              @click.prevent=\"setPage(page)\">\r\n              <a class=\"page-link\" href=\"#\">{{ page }}</a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Alert from '../../components/AlertMessage';\r\nimport Cart from '../../components/user/Cart';\r\n\r\nexport default {\r\n  name: 'Category',\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      allProducts: [],\r\n      countProduct: 6,\r\n      currentPage: 1,\r\n      category: 3, // 取得全部分類\r\n      products: [],\r\n      cart: [],\r\n      singleProduct: [],\r\n      num: 1,\r\n    };\r\n  },\r\n  components: {\r\n    Alert,\r\n    Cart,\r\n  },\r\n  methods: {\r\n    getAllProducts(page = 1) {\r\n      const api = `${process.env.API_PATH}/api/${process.env.CUSTOM_PATH}/products?page=${page}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      vm.$http.get(api).then((response) => {\r\n        console.log(response.data);\r\n        vm.allProducts = response.data.products.filter(item => item.is_enabled === 1);\r\n        vm.products = response.data.products;\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      const api = `${process.env.API_PATH}/api/${process.env.CUSTOM_PATH}/product/${id}`;\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      vm.$http.get(api).then((response) => {\r\n        console.log(response);\r\n        vm.singleProduct = response.data.product;\r\n        $('#detailModal').modal('show');\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    getCategory(num) {\r\n      const vm = this;\r\n      if (num === 3) {\r\n        vm.products = vm.allProducts;\r\n      } else {\r\n        vm.products = vm.allProducts.filter(item => item.category === num);\r\n      }\r\n      vm.category = num;\r\n    },\r\n    getCart() {\r\n      const vm = this;\r\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\r\n    },\r\n    addCart(product, qty) {\r\n      const vm = this;\r\n      let cartIndex = -1; // 因陣列索引由0開始，不可設置為0\r\n      vm.getCart();\r\n      if (vm.cart.length > 0) { // 購物車內有產品\r\n        vm.cart.forEach((item, index) => {\r\n          if (item.id === product.id) { // 品項已加入過\r\n            cartIndex = index;\r\n          }\r\n        });\r\n      }\r\n      // 判斷品項是否重複加入\r\n      if (cartIndex === -1) { // NO\r\n        const total = parseInt((product.price * qty), 10);\r\n        vm.$set(product, 'qty', qty);\r\n        vm.$set(product, 'total', total);\r\n        vm.cart.push(product); // 將此品項加入購物車\r\n        vm.$bus.$emit('message: push', '已加入購物車');\r\n      } else { // Yes\r\n        // 使用cartIndex找到此品項在購物車中的位置，並將data放入tempProduct\r\n        const tempProduct = { ...vm.cart[cartIndex] };\r\n        console.log(tempProduct.qty, '123');\r\n        if (tempProduct.qty + qty > 10) {\r\n          vm.$bus.$emit('message: push', '同款糧食不得超過10組！', 'danger');\r\n        } else {\r\n          tempProduct.qty += qty;\r\n          vm.$bus.$emit('message: push', '已加入購物車');\r\n        }\r\n        tempProduct.total = parseInt((product.price * tempProduct.qty), 10);\r\n        // 使用cartIndex找到此品項在購物車中的位置並刪除\r\n        vm.cart.splice(cartIndex, 1);\r\n        vm.cart.push(tempProduct); // 由tempProduct建立new data\r\n      }\r\n      localStorage.setItem('cart', JSON.stringify(vm.cart));\r\n      $('#detailModal').modal('hide');\r\n      vm.getCart();\r\n    },\r\n    setPage(page) {\r\n      if (page <= 0 || page > this.totalPage) {\r\n        return;\r\n      }\r\n      this.currentPage = page;\r\n    },\r\n  },\r\n  computed: {\r\n    firstProduct() {\r\n      return (this.currentPage - 1) * this.countProduct;\r\n    },\r\n    totalPage() {\r\n      return Math.ceil(this.products.length / this.countProduct);\r\n    },\r\n  },\r\n  created() {\r\n    this.getAllProducts();\r\n    this.getCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\na {\r\n  text-decoration: none;\r\n}\r\n.card:hover {\r\n  box-shadow: 6px 6px 6px #757575;\r\n}\r\n.list-group-item {\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/Category.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"loader\":\"dots\"},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._v(\" \"),_c('Alert'),_vm._v(\" \"),_c('Cart'),_vm._v(\" \"),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-sm-4 col-sm-12 col-md-12 col-lg-4\"},[_c('ul',{staticClass:\"nav\",staticStyle:{\"font-size\":\"18px\"}},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/\"}},[_c('span',{staticClass:\"choose\"},[_vm._v(\"首頁\")])])],1),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('ul',{staticClass:\"list-group mt-2\"},[_c('li',{staticClass:\"list-group-item\",class:{ active: _vm.category === 3 },on:{\"click\":function($event){return _vm.getCategory(3)}}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\",class:{ active: _vm.category === 0 },on:{\"click\":function($event){return _vm.getCategory(0)}}},[_vm._v(\"主食\")]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\",class:{ active: _vm.category === 1 },on:{\"click\":function($event){return _vm.getCategory(1)}}},[_vm._v(\"副食\")]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\",class:{ active: _vm.category === 2 },on:{\"click\":function($event){return _vm.getCategory(2)}}},[_vm._v(\"零食\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-8 mt-5 col-sm-12 col-md-12 col-lg-8\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.products.slice(_vm.firstProduct, _vm.firstProduct + _vm.countProduct)),function(item){return _c('div',{key:item.id,staticClass:\"card-group col-md-6 mb-4\"},[_c('div',{staticClass:\"card border-0 product-card\"},[_c('div',{staticStyle:{\"height\":\"250px\",\"background-size\":\"cover\"},style:({backgroundImage: (\"url(\" + (item.imageUrl) + \")\")})}),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(item.category === 0)?_c('h4',[_c('span',{staticClass:\"badge badge-dark float-right ml-2\"},[_vm._v(\"主食\")])]):(item.category === 1)?_c('h4',[_c('span',{staticClass:\"badge badge-warning float-right ml-2\"},[_vm._v(\"副食\")])]):_c('h4',[_c('span',{staticClass:\"badge badge-info float-right ml-2\"},[_vm._v(\"零食\")])]),_vm._v(\" \"),_c('h4',{staticClass:\"card-title\"},[_c('a',{staticClass:\"text-dark\"},[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('p',{staticClass:\"card-text\",staticStyle:{\"font-size\":\"16px\"}},[_vm._v(_vm._s(item.description))])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer d-flex\",staticStyle:{\"background-color\":\"#494949\"}},[_c('h5',{staticStyle:{\"color\":\"#ffffff\",\"letter-spacing\":\"1px\",\"padding-top\":\"4px\"}},[_vm._v(\"\\n                NT \"+_vm._s(_vm._f(\"currency\")(item.price))+\"\\n              \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-light ml-auto\",staticStyle:{\"letter-spacing\":\"2px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_vm._v(\"\\n                捐助糧食\\n              \")])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"detailModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"card border-0\"},[_c('div',{staticClass:\"image mt-2\",staticStyle:{\"height\":\"300px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({backgroundImage: (\"url(\" + (_vm.singleProduct.imageUrl) + \")\")})}),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('h5',[(_vm.singleProduct.category === 0)?_c('span',{staticClass:\"badge badge-dark\"},[_vm._v(\"主食\")]):(_vm.singleProduct.category === 1)?_c('span',{staticClass:\"badge badge-warning\"},[_vm._v(\"副食\")]):_c('span',{staticClass:\"badge badge-info\"},[_vm._v(\"零食\")])]),_vm._v(\" \"),_c('h4',{staticClass:\"mt-3\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.singleProduct.title))]),_vm._v(\" \"),_c('h5',{staticClass:\"mt-2\",staticStyle:{\"padding-top\":\"12px\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.singleProduct.description))]),_vm._v(\" \"),_c('h6',[_vm._v(\"\\n                成分｜ \"+_vm._s(_vm.singleProduct.content))]),_vm._v(\" \"),_c('h5',{staticClass:\"card-title mt-4\",staticStyle:{\"color\":\"#616161\"}},[_vm._v(\"\\n                NT \"+_vm._s(_vm._f(\"currency\")(_vm.singleProduct.price))+\"\\n              \")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],staticClass:\"form-control mt-3\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.num=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\"\\n                  \"+_vm._s(num)+\"\\n                \")])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-warning\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"再逛逛\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-dark\",staticStyle:{\"letter-spacing\":\"1px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCart(_vm.singleProduct, _vm.num)}}},[_vm._v(\"捐助\")])])])])]),_vm._v(\" \"),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},_vm._l((_vm.totalPage),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.currentPage === page},on:{\"click\":function($event){$event.preventDefault();return _vm.setPage(page)}}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(page))])])}),0)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item\",staticStyle:{\"font-weight\":\"bolder\"}},[_c('span',{staticClass:\"nav-link active\",staticStyle:{\"color\":\"#f57f17\"}},[_vm._v(\"種類\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2925406f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/Category.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2925406f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Category.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2925406f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2925406f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/Category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}